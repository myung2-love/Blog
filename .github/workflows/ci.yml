# name: CI

# on:
#   push:
#     branches:
#       - main
#   pull_request:
#     branches:
#       - main

# jobs:
#   test:
#     runs-on: ubuntu-latest

#     services:
#       mysql:
#         image: mysql:8.0
#         env:
#           MYSQL_ROOT_PASSWORD: password
#           MYSQL_DATABASE: test_db
#         ports:
#           - "3306:3306"
#         options: >-
#           --health-cmd="mysqladmin ping -h localhost"
#           --health-interval=10s
#           --health-timeout=5s
#           --health-retries=3

#     steps:
#     - uses: actions/checkout@v3

#     - name: Set up Python
#       uses: actions/setup-python@v4
#       with:
#         python-version: "3.10"

#     - name: Install dependencies
#       run: |
#         python -m pip install --upgrade pip
#         pip install -r requirements.txt

#     - name: Run Tests
#       run: pytest

#   # docker-build:
#   #   needs: test
#   #   runs-on: ubuntu-latest

#   #   steps:
#   #   - uses: actions/checkout@v3

#   #   - name: Log in to DockerHub
#   #     uses: docker/login-action@v2
#   #     with:
#   #       username: ${{ secrets.DOCKER_USERNAME }}
#   #       password: ${{ secrets.DOCKER_PASSWORD }}

#   #   - name: Build and Push Docker Image
#   #     run: |
#   #       docker build -t my-app:latest .
#   #       docker tag my-app:latest my-dockerhub-username/my-app:latest
#   #       docker push my-dockerhub-username/my-app:latest